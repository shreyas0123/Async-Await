<!DOCTYPE html>
<html>
    <body>
        <script>
            console.log('person1:shows ticket');
            console.log('person2:shows ticket');

            const preMovie = async () =>{
                const promiseWifeBringsTickets = new Promise((resolve,reject)=>{
                    setTimeout(()=>resolve(`ticket`),3000);
                });
                const getPopcorn = new Promise((resolve,reject)=>resolve(`popcorn`))
                //husband making promise that he will bring pop corn
                const addButter = new Promise((resolve,reject)=>resolve(`butter`))
                const getColdDrinks = new Promise((resolve,reject)=>resolve(`coldDrinks`))
                let ticket = await promiseWifeBringsTickets; //this is waiting
                
                
                //waiting untill wife arrives,then husbandtold wife that we should go in but she is hungry
                console.log('wife:i have the ticket');
                console.log('husband:we should go in');
                console.log('wife: no im hungry');

                let popcorn = await getPopcorn; //getPopcorn called here

                console.log('husband:i bought some popcorn');
                console.log('husband:we should go in');
                console.log('wife:i need a butter on popcorn');

                let butter = await addButter;
                console.log('husband:i have some buttor on popcorn');
                console.log('husband:we should go in');
                console.log('wife:i need coldDrinks')
                
                let coldrinks = await getColdDrinks;
                console.log('husband:i brought coldrinks');
                console.log('husband:anything else darling');
                console.log('wife:lets go we are getting late');
                console.log('husband:thanks for the remainder');

                
                return ticket;

            }
            preMovie().then((m)=>console.log('person3:shows ticket'));
            console.log('person4:shows ticket');
            console.log('persong5:shows ticket');

        </script>
    </body>
</html>